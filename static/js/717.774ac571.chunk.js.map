{"version":3,"file":"static/js/717.774ac571.chunk.js","mappings":"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","sources":["components/ButtonLoadMore/ButtonLoadMore.styled.js","components/ButtonLoadMore/ButtonLoadMore.jsx","components/TweetsItem/TweetsItem.styled.js","components/TweetsItem/TweetsItem.jsx","components/TweetsList/TweetsList.styled.js","components/TweetsList/TweetsList.jsx","hooks/useLocalStoraje.js","utility/mockApi.js","pages/TweetsPage/TweetsPage.jsx","refs/refs.js"],"sourcesContent":["import styled from 'styled-components';\n\nexport const Box = styled.div`\n  display: flex;\n  justify-content: center;\n  margin-top: 20px;\n`;\n\nexport const Button = styled.button`\n  background: ${p => p.theme.colors.white};\n  box-shadow: 0px 3.43693px 3.43693px rgba(0, 0, 0, 0.25);\n  border-radius: 10.3108px;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  width: 196px;\n  height: 50px;\n  border: none;\n  margin-bottom: 60px;\n\n  font-family: ${p => p.theme.fonts.main};\n  font-weight: ${p => p.theme.fontWeights.SemiBold};\n  font-size: ${p => p.theme.fontSizes.s};\n  line-height: 1.22;\n  text-transform: uppercase;\n  color: ${p => p.theme.colors.black};\n  transition: 250ms;\n\n  &:hover {\n    background-color: rgb(92, 211, 168);\n    box-shadow: rgba(0, 0, 0, 0.25) 0px 3px 3px;\n  }\n`;\n","import { Box, Button } from './ButtonLoadMore.styled';\n\nconst ButtonLoadMore = ({ setPageParams, pageParams }) => {\n  return (\n    <Box>\n      <Button type=\"button\" onClick={() => setPageParams(pageParams + 1)}>\n        {' '}\n        Load more\n      </Button>\n    </Box>\n  );\n};\n\nexport default ButtonLoadMore;\n","import styled from 'styled-components';\nimport bg from '../../images/picture.png';\n\nexport const Item = styled.li`\n  width: 380px;\n  /* height: 460px; */\n  position: relative;\n  background: ${p => p.theme.colors.background};\n  box-shadow: -2.5777px 6.87386px 20.6216px rgba(0, 0, 0, 0.23);\n  border-radius: 20px;\n  background-repeat: no-repeat;\n  /* background-position: 36px 28px; */\n`;\nexport const BoxLogo = styled.div`\n  position: absolute;\n  top: 20px;\n  left: 20px;\n`;\nexport const Box = styled.div`\n  background: url(${bg}) no-repeat;\n  display: flex;\n  gap: 26px;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  padding-top: 178px;\n  background-position: 36px 28px;\n  &::before {\n    content: '';\n    position: absolute;\n    width: 380px;\n    height: 8px;\n    top: 210px;\n    background: ${p => p.theme.colors.white};\n  }\n`;\nexport const Img = styled.img`\n  z-index: 10;\n`;\nexport const Wrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n`;\nexport const Text = styled.p`\n  font-family: ${p => p.theme.fonts.main};\n  font-weight: ${p => p.theme.fontWeights.medium};\n  font-size: ${p => p.theme.fontSizes.m};\n  line-height: 1.2;\n  text-transform: uppercase;\n  text-align: center;\n  color: ${p => p.theme.colors.white};\n`;\n\nexport const Button = styled.button`\n  background: ${({ isFollow }) =>\n    (!isFollow && '#EBD8FF') || (isFollow && '#5CD3A8')};\n  box-shadow: 0px 3.43693px 3.43693px rgba(0, 0, 0, 0.25);\n  border-radius: 10.3108px;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  width: 196px;\n  height: 50px;\n  border: none;\n  margin-bottom: 60px;\n\n  font-family: ${p => p.theme.fonts.main};\n  font-weight: ${p => p.theme.fontWeights.SemiBold};\n  font-size: ${p => p.theme.fontSizes.s};\n  line-height: 1.22;\n  text-transform: uppercase;\n  color: ${p => p.theme.colors.black};\n  transition: 250ms;\n\n  &:hover {\n    background-color: rgb(92, 211, 168);\n    box-shadow: rgba(0, 0, 0, 0.25) 0px 3px 3px;\n  }\n`;\n","import Logo from 'components/Logo/Logo';\nimport {\n  Box,\n  BoxLogo,\n  Button,\n  Img,\n  Item,\n  Text,\n  Wrapper,\n} from './TweetsItem.styled';\nimport avatarImg from '../../images/Boy.png';\nconst TweetsItem = ({\n  data,\n  handleFollowing,\n}) => {\n  return (\n    <>\n      {data?.map(({ user, id, avatar, followers, tweets, isFollow }) => {\n        return (\n          <Item key={id}>\n            <BoxLogo>\n              <Logo />\n            </BoxLogo>\n            <Box>\n              <Img src={avatar ? avatar : avatarImg} alt=\"Avatar\" width=\"80\" />\n              <Wrapper>\n                <Text>{user} </Text>\n                <Text>{tweets} TWEETS</Text>\n                <Text>{followers} Followers</Text>\n              </Wrapper>\n              <Button\n                type=\"button\"\n                id={id}\n                isFollow={isFollow}\n                onClick={() => handleFollowing(id)}\n              >\n                {(!isFollow && 'Follow') || (isFollow && 'Following')}\n              </Button>\n            </Box>\n          </Item>\n        );\n      })}\n    </>\n  );\n};\n\nexport default TweetsItem;\n","import { NavLink } from 'react-router-dom';\nimport styled from 'styled-components';\n\nexport const List = styled.ul`\n  padding: 20px;\n  display: flex;\n  justify-content: center;\n  gap: 30px;\n  align-items: center;\n  flex-wrap: wrap;\n`;\nexport const Container = styled.div`\n  margin-top: 20px;\n`;\nexport const Link = styled(NavLink)`\n  font-family: ${p => p.theme.fonts.main};\n  font-weight: ${p => p.theme.fontWeights.SemiBold};\n  font-size: ${p => p.theme.fontSizes.s};\n  line-height: 1.22;\n  text-transform: uppercase;\n  color: ${p => p.theme.colors.black};\n  transition: 250ms;\n  padding-left: 18px;\n  color: rgb(77 44 155);\n`;\n","import ButtonLoadMore from 'components/ButtonLoadMore/ButtonLoadMore';\nimport TweetsItem from 'components/TweetsItem/TweetsItem';\nimport { totalPage } from 'refs/refs';\n\nimport { Container, Link, List } from './TweetsList.styled';\n\nconst TweetsList = ({\n  data,\n  pageParams,\n  setPageParams,\n  setSearch,\n  handleFollowing,\n}) => {\n  return (\n    <Container>\n      <Link to=\"/\">go back</Link>\n      <List>\n        <TweetsItem data={data} handleFollowing={handleFollowing} />\n      </List>\n      {pageParams < totalPage ? (\n        <ButtonLoadMore\n          pageParams={pageParams}\n          setPageParams={setPageParams}\n          setSearch={setSearch}\n        />\n      ) : null}\n    </Container>\n  );\n};\n\nexport default TweetsList;\n","import { useEffect, useState } from 'react';\n\nexport const useLocalStorage = (key, defaultValue) => {\n  const [state, setState] = useState(() => {\n    return JSON.parse(window.localStorage.getItem(key)) ?? defaultValue;\n  });\n\n  useEffect(() => {\n    window.localStorage.setItem(key, JSON.stringify(state));\n  }, [key, state]);\n\n  return [state, setState];\n};\n","//https://644bd7ef4bdbc0cc3a9c1bc1.mockapi.io/api/tweets/tweets/tweets\n\nimport axios from 'axios';\nimport { baseUrl, limit, totalPage } from 'refs/refs';\n\naxios.defaults.baseURL = baseUrl;\nconst params = new URLSearchParams({\n  limit,\n  totalPage,\n});\nconsole.log(params);\nexport const getHeroData = async page => {\n  try {\n    const { data } = await axios.get(\n      `/api/tweets/tweets?${params}&page=${page}`\n    );\n    return data;\n  } catch (error) {\n    throw error;\n  }\n};\nexport const updateDataFollowing = async (userId, userFollowers, follow) => {\n  try {\n    const { data } = await axios.put(`/api/tweets/tweets/${userId}`, {\n      followers: userFollowers,\n      isFollow: follow,\n    });\n    return data;\n  } catch (error) {\n    console.log(error.message);\n    throw error;\n  }\n};\n","import { useLocalStorage } from 'hooks/useLocalStoraje';\nimport { useEffect, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { compareArr } from 'refs/refs';\nimport { getHeroData, updateDataFollowing } from 'utility/mockApi';\n\nconst { default: TwitsList } = require('components/TweetsList/TweetsList');\n\nconst TwitsPage = () => {\n  const [data, setData] = useLocalStorage('users', []);\n  const [pageParams, setPageParams] = useState(1);\n  const [followings, setFollowings] = useLocalStorage('followings', []);\n  const [, setSearch] = useSearchParams();\n\n  useEffect(() => {\n    const fetchData = async () => {\n      setSearch(`page=${pageParams}`);\n      const dataUsers = await getHeroData(pageParams);\n\n      setData(prevUsers => {\n        const newUser = dataUsers.map(user => {\n          if (followings.includes(user.id)) {\n            return { ...user, isFollow: true };\n          }\n          return { ...user, isFollow: false };\n        });\n        const compareUsers = compareArr(prevUsers, dataUsers);\n\n        return [...compareUsers, ...newUser];\n      });\n    };\n\n    fetchData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [pageParams]);\n\n  useEffect(() => {\n    const isChangeFollow = data.map(user => {\n      if (user.isFollow === true) {\n        return user.id;\n      } else {\n        return null;\n      }\n    });\n    if (isChangeFollow.length > 0) {\n      setFollowings(isChangeFollow);\n    }\n  }, [data, setFollowings]);\n\n  const handleFollowing = async userId => {\n    setFollowings(prevFollowings => {\n      const index = prevFollowings.indexOf(userId);\n      setData(prevUsers => prevUsers.map(user => user));\n      console.log(index);\n      if (index === -1) {\n        console.log(prevFollowings);\n        return [...prevFollowings, userId];\n      }\n    });\n\n    const user = data.find(user => user.id === userId);\n    const result = !user.isFollow\n      ? (user.followers += 1)\n      : user.isFollow\n      ? (user.followers -= 1)\n      : null;\n\n    const followers = !user.isFollow\n      ? (user.isFollow = true)\n      : user.isFollow\n      ? (user.isFollow = false)\n      : null;\n\n    updateDataFollowing(userId, result, followers);\n  };\n\n  return (\n    <TwitsList\n      data={data}\n      setData={setData}\n      pageParams={pageParams}\n      setPageParams={setPageParams}\n      setSearch={setSearch}\n      handleFollowing={handleFollowing}\n    />\n  );\n};\n\nexport default TwitsPage;\n","export const baseUrl = 'https://644bd7ef4bdbc0cc3a9c1bc1.mockapi.io';\nexport const limit = 6;\nexport const totalPage = 2;\n\nexport const compareArr = (arrA, arrB) =>\n  arrA.filter(\n    arrAValue => !arrB.some(arrBValue => arrAValue.id === arrBValue.id)\n  );\n"],"names":["Box","styled","Button","p","theme","colors","white","fonts","main","fontWeights","SemiBold","fontSizes","s","black","setPageParams","pageParams","type","onClick","Item","background","BoxLogo","bg","Img","Wrapper","Text","medium","m","isFollow","data","handleFollowing","map","user","id","avatar","followers","tweets","Logo","src","avatarImg","alt","width","List","Container","Link","NavLink","setSearch","to","totalPage","useLocalStorage","key","defaultValue","useState","JSON","parse","window","localStorage","getItem","state","setState","useEffect","setItem","stringify","axios","baseUrl","params","URLSearchParams","limit","console","log","getHeroData","page","updateDataFollowing","userId","userFollowers","follow","message","TwitsList","require","default","setData","followings","setFollowings","useSearchParams","fetchData","dataUsers","prevUsers","newUser","includes","compareUsers","compareArr","isChangeFollow","length","prevFollowings","index","indexOf","find","result","arrA","arrB","filter","arrAValue","some","arrBValue"],"sourceRoot":""}